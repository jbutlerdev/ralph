{
  "projectName": "Ralph Web UI",
  "description": "Create a Web UI for Ralph that displays generated implementation plans, their tasks, and the status of those tasks.",
  "overview": "A web-based interface for monitoring and managing Ralph autonomous development loops, providing visual task tracking, progress visualization, and real-time updates.",
  "tasks": [
    {
      "id": "task-001",
      "title": "Initialize Web UI project with Next.js",
      "description": "Create a new Next.js 14 project with TypeScript, Tailwind CSS, and shadcn/ui components. Set up the project structure with proper configuration for a modern React application. The project will use App Router for the latest Next.js features.",
      "priority": "high",
      "dependencies": ["task-000"],
      "acceptanceCriteria": [
        "`web-ui/` directory created with Next.js project (using `npx create-next-app@latest`)",
        "TypeScript configured with strict mode",
        "Tailwind CSS installed and configured",
        "shadcn/ui initialized with default components",
        "package.json includes: next@14, react@18, typescript, tailwindcss",
        "Dev server runs successfully on port 3000",
        "Project builds without errors: `npm run build`"
      ],
      "estimatedComplexity": 2,
      "tags": ["setup", "nextjs", "typescript"]
    },
    {
      "id": "task-002",
      "title": "Create Ralph plan data utilities and types",
      "description": "Create TypeScript utilities for reading and parsing Ralph implementation plans. Copy and adapt the `RalphPlan` and `RalphTask` interfaces from the ralph-plan-generator skill. Implement functions to read `IMPLEMENTATION_PLAN.md` files and parse them into structured data objects.",
      "priority": "high",
      "dependencies": ["task-001"],
      "acceptanceCriteria": [
        "`web-ui/src/lib/ralph/types.ts` exists with RalphPlan, RalphTask interfaces",
        "`web-ui/src/lib/ralph/parser.ts` exists with plan parsing functions",
        "Functions: `planFromMarkdown()`, `calculateProgress()`, `getNextTask()`, `sortTasksByDependencies()`",
        "Unit tests for parser utilities in `web-ui/src/lib/ralph/__tests__/parser.test.ts`",
        "All tests pass with >80% coverage"
      ],
      "specReference": "specs/web-ui-utilities.md",
      "estimatedComplexity": 3,
      "tags": ["typescript", "utilities", "parsing"]
    },
    {
      "id": "task-003",
      "title": "Implement file system API for reading plans",
      "description": "Create Next.js API routes to read Ralph implementation plans from the file system. The API should support listing all available plans (by searching for `IMPLEMENTATION_PLAN.md` files) and reading individual plan details. Include error handling for missing or malformed files.",
      "priority": "high",
      "dependencies": ["task-002"],
      "acceptanceCriteria": [
        "`web-ui/src/app/api/plans/route.ts` exists - GET /api/plans lists all plans",
        "`web-ui/src/app/api/plans/[id]/route.ts` exists - GET /api/plans/[id] returns specific plan",
        "API returns JSON with plan data including tasks and metadata",
        "Error handling for missing plans returns 404 with clear message",
        "Parsing errors return 400 with validation details",
        "API responses include CORS headers for local development",
        "API tested with curl/Postman"
      ],
      "estimatedComplexity": 3,
      "tags": ["api", "nextjs", "filesystem"]
    },
    {
      "id": "task-004",
      "title": "Create task status tracking system",
      "description": "Implement a task status tracking system that reads Ralph's `.ralph/` runtime state to determine task completion status. The system should parse session data, commit history, and checkpoint information to determine which tasks are completed, in progress, or pending.",
      "priority": "high",
      "dependencies": ["task-002"],
      "acceptanceCriteria": [
        "`web-ui/src/lib/ralph/status.ts` exists with status tracking functions",
        "Function `getTaskStatus(plan: RalphPlan, projectPath: string): Map<string, TaskStatus>` implemented",
        "TaskStatus enum: 'pending', 'in-progress', 'completed', 'blocked', 'failed'",
        "Reads `.ralph/sessions/` JSON files for session state",
        "Reads git commits to detect task completion markers",
        "Handles missing `.ralph/` directory gracefully",
        "Unit tests for status determination logic"
      ],
      "estimatedComplexity": 4,
      "tags": ["state", "tracking", "filesystem"]
    },
    {
      "id": "task-005",
      "title": "Build plan list page with project cards",
      "description": "Create the main dashboard page that displays all available Ralph projects with their implementation plans. Each project card should show the project name, overview, task progress bar, and quick stats (total tasks, completed, pending). Cards should be clickable to navigate to project details.",
      "priority": "medium",
      "dependencies": ["task-003"],
      "acceptanceCriteria": [
        "`web-ui/src/app/page.tsx` renders PlanList component",
        "`web-ui/src/components/PlanList.tsx` displays grid of project cards",
        "`web-ui/src/components/PlanCard.tsx` shows: name, description, progress bar, stats",
        "Progress bar shows percentage with visual color coding (green >80%, yellow 50-80%, red <50%)",
        "Empty state shows message when no plans found",
        "Loading state during API fetch",
        "Error state with retry button",
        "Responsive layout (1 col mobile, 2 col tablet, 3 col desktop)"
      ],
      "specReference": "specs/web-ui-components.md",
      "estimatedComplexity": 3,
      "tags": ["frontend", "nextjs", "components"]
    },
    {
      "id": "task-006",
      "title": "Build plan detail page with task list",
      "description": "Create a detailed view page for a specific implementation plan. The page should display all tasks in a filterable/sortable list with their status, priority badges, dependency links, and acceptance criteria checkboxes. Include a project overview section and overall progress indicator.",
      "priority": "high",
      "dependencies": ["task-003", "task-004"],
      "acceptanceCriteria": [
        "`web-ui/src/app/plan/[id]/page.tsx` renders PlanDetail component",
        "`web-ui/src/components/PlanDetail.tsx` shows plan overview and task list",
        "`web-ui/src/components/TaskList.tsx` displays tasks with status indicators",
        "`web-ui/src/components/TaskItem.tsx` shows: title, ID, status badge, priority badge, description",
        "Task filtering: by status (All, Pending, In Progress, Completed)",
        "Task sorting: by ID, priority, status, dependencies",
        "Progress indicator at top showing completion percentage",
        "Breadcrumb navigation back to plan list"
      ],
      "estimatedComplexity": 4,
      "tags": ["frontend", "nextjs", "components"]
    },
    {
      "id": "task-007",
      "title": "Build task detail modal/page",
      "description": "Create a detailed view for individual tasks showing all task information including full description, all acceptance criteria, dependencies with links, complexity score, tags, and spec reference. Include a visual dependency graph showing which tasks this task depends on and which tasks depend on it.",
      "priority": "medium",
      "dependencies": ["task-006"],
      "acceptanceCriteria": [
        "`web-ui/src/components/TaskDetail.tsx` displays full task information",
        "Shows: title, ID, status, priority, complexity, tags",
        "Acceptance criteria displayed as checkboxes (checked if completed, unchecked if pending)",
        "Dependencies section with links to parent tasks",
        "'Dependent Tasks' section with links to child tasks",
        "Spec reference link if present",
        "Accessibility: proper ARIA labels, keyboard navigation",
        "Modal dialog or dedicated page (decide on modal for quick access)"
      ],
      "specReference": "specs/web-ui-components.md",
      "estimatedComplexity": 3,
      "tags": ["frontend", "components", "accessibility"]
    },
    {
      "id": "task-008",
      "title": "Implement dependency graph visualization",
      "description": "Add an interactive dependency graph visualization using React Flow or similar library. The graph should show all tasks as nodes with dependencies as edges, color-coded by status. Users can click nodes to navigate to task details. Include zoom, pan, and auto-layout features.",
      "priority": "low",
      "dependencies": ["task-007"],
      "acceptanceCriteria": [
        "`web-ui/src/components/DependencyGraph.tsx` exists using React Flow",
        "Nodes: tasks as boxes (color by status: green=completed, yellow=in-progress, gray=pending)",
        "Edges: arrows showing dependency direction",
        "Click node â†’ navigate to task detail",
        "Zoom and pan controls",
        "Auto-layout button using Dagre layout algorithm",
        "Legend showing status colors",
        "Responsive container sizing"
      ],
      "estimatedComplexity": 4,
      "tags": ["frontend", "visualization", "graph"]
    },
    {
      "id": "task-009",
      "title": "Add real-time updates with polling",
      "description": "Implement real-time updates for task status by polling the backend API. The UI should refresh task status periodically (configurable interval) to show progress as the Ralph loop executes tasks. Add a manual refresh button and show 'last updated' timestamp.",
      "priority": "medium",
      "dependencies": ["task-006"],
      "acceptanceCriteria": [
        "`web-ui/src/lib/ralph/usePolling.ts` hook exists for polling logic",
        "Configurable poll interval (default 5 seconds via environment variable)",
        "Manual refresh button in UI with loading state",
        "'Last updated' timestamp displayed on page",
        "Optimistic updates: disable polling when tab is not visible",
        "Error handling: retry with exponential backoff on API failures",
        "Visual indicator when data is stale"
      ],
      "estimatedComplexity": 3,
      "tags": ["frontend", "hooks", "realtime"]
    },
    {
      "id": "task-010",
      "title": "Implement Web Socket for live updates (optional enhancement)",
      "description": "Add Web Socket support for real-time task updates instead of polling. Create a Node.js WebSocket server that watches the Ralph `.ralph/` directory for changes and broadcasts updates to connected clients. The UI will connect to the WebSocket and update task status instantly when changes occur.",
      "priority": "low",
      "dependencies": ["task-009"],
      "acceptanceCriteria": [
        "`web-ui/server/ws-server.ts` WebSocket server exists",
        "Server watches `.ralph/` directory for file changes using chokidar",
        "Broadcasts messages on: task completion, session state change, checkpoint created",
        "`web-ui/src/lib/ralph/useWebSocket.ts` hook for WebSocket connection",
        "Graceful fallback to polling if WebSocket unavailable",
        "Connection status indicator in UI",
        "Auto-reconnect on disconnect with exponential backoff"
      ],
      "estimatedComplexity": 5,
      "tags": ["backend", "websocket", "realtime"]
    },
    {
      "id": "task-011",
      "title": "Add theme support and responsive design polish",
      "description": "Implement comprehensive theme support (light/dark mode) using next-themes. Polish responsive design across all pages ensuring great UX on mobile, tablet, and desktop. Add smooth transitions and consistent spacing.",
      "priority": "low",
      "dependencies": ["task-006"],
      "acceptanceCriteria": [
        "next-themes configured with system preference detection",
        "Theme toggle button in navigation header",
        "Dark mode colors defined for all components (using CSS variables)",
        "Mobile breakpoint (<640px) optimized layouts",
        "Tablet breakpoint (640-1024px) optimized layouts",
        "Desktop breakpoint (>1024px) optimized layouts",
        "Smooth transitions for theme changes",
        "Tested on actual devices or browser devtools device emulation"
      ],
      "estimatedComplexity": 2,
      "tags": ["frontend", "ui", "theme"]
    },
    {
      "id": "task-012",
      "title": "Write E2E tests and deployment documentation",
      "description": "Write end-to-end tests using Playwright for critical user flows. Create deployment documentation for Vercel, Docker, and local development. Ensure the Web UI can be easily deployed and run in different environments.",
      "priority": "medium",
      "dependencies": ["task-006", "task-007"],
      "acceptanceCriteria": [
        "Playwright tests for: view plans, view plan details, view task details, filter tasks",
        "`web-ui/e2e/` directory with test files",
        "All E2E tests pass: `npm run test:e2e`",
        "`web-ui/DEPLOYMENT.md` documentation exists",
        "Vercel deployment configuration (`vercel.json`)",
        "Dockerfile for containerized deployment",
        "Environment variable template (`.env.example`)",
        "Local development quick start guide"
      ],
      "estimatedComplexity": 3,
      "tags": ["testing", "documentation", "deployment"]
    }
  ],
  "generatedAt": "2025-01-17T00:00:00.000Z",
  "totalTasks": 12,
  "estimatedDuration": "5-7 days"
}
